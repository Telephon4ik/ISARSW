<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="org.example.isarsw.controller.HistoryController"
      spacing="0"
      alignment="TOP_CENTER"
      style="-fx-background-color: #f8f9fa; -fx-pref-width: 800px; -fx-pref-height: 500px;">

    <!-- Заголовок окна -->
    <HBox alignment="CENTER_LEFT" styleClass="modal-header">
        <VBox spacing="2">
            <Label text="История изменений" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: white;"/>
            <Label fx:id="lblFlightInfo" style="-fx-font-size: 12px; -fx-text-fill: #e3f2fd;"/>
        </VBox>
    </HBox>

    <!-- Основной контент -->
    <VBox spacing="0" VBox.vgrow="ALWAYS">
        <!-- Панель информации -->
        <HBox alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-padding: 10 20; -fx-border-color: #e0e0e0; -fx-border-width: 0 0 1px 0;">
            <Label text="Все изменения отсортированы по времени (сначала новые)"
                   style="-fx-font-size: 12px; -fx-text-fill: #7f8c8d;"/>
        </HBox>

        <!-- Таблица истории -->
        <TableView fx:id="historyTable" style="-fx-background-color: transparent; -fx-border-color: transparent;" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn fx:id="colTimestamp" text="Время" prefWidth="160"
                             style="-fx-font-size: 12px; -fx-alignment: CENTER_LEFT;"/>
                <TableColumn fx:id="colActor" text="Кто" prefWidth="80"
                             style="-fx-font-size: 12px; -fx-alignment: CENTER;"/>
                <TableColumn fx:id="colAction" text="Действие" prefWidth="120"
                             style="-fx-font-size: 12px; -fx-alignment: CENTER_LEFT;"/>
                <TableColumn fx:id="colBefore" text="До" prefWidth="220"
                             style="-fx-font-size: 12px; -fx-alignment: CENTER_LEFT;"/>
                <TableColumn fx:id="colAfter" text="После" prefWidth="220"
                             style="-fx-font-size: 12px; -fx-alignment: CENTER_LEFT;"/>
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
            </columnResizePolicy>
        </TableView>
    </VBox>

    <!-- Компактная панель действий -->
    <HBox spacing="10" alignment="CENTER_RIGHT"
          style="-fx-padding: 15 20;">
        <Button text="Закрыть" onAction="#onClose"
                style="-fx-background-color: transparent; -fx-text-fill: #7f8c8d; -fx-font-size: 14px; -fx-padding: 6 18; -fx-border-color: #ddd; -fx-border-width: 1; -fx-border-radius: 4; -fx-cursor: hand;"/>
    </HBox>

</VBox>